<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix Store | المتجر الرسمي الفاخر</title>ي
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .file-upload-wrapper {
            position: relative; width: 100%; height: 130px;
            border: 2px dashed #444; border-radius: 15px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: 0.3s; background: rgba(255,255,255,0.02);
            margin-bottom: 20px;
        }
        .file-upload-wrapper:hover { border-color: var(--primary); background: rgba(229,9,20,0.05); }
        .file-upload-wrapper input[type="file"] { display: none; }
        
        .order-mini-card {
            background: #141414; border-right: 4px solid #333;
            padding: 18px 25px; margin-bottom: 12px; border-radius: 12px;
            display: flex; justify-content: space-between; align-items: center;
            transition: 0.3s; cursor: pointer; border: 1px solid #222;
        }
        .order-mini-card:hover { transform: translateX(-8px); border-right-color: var(--primary); background: #1a1a1a; }
    </style>
</head>
<body>
    <header>
        <a href="index.html" class="logo">NETFLIX <span style="font-size:0.5em; color:#fff; font-weight:300;">STORE</span></a>
        <div class="nav-links">
             <i class="fas fa-shield-alt" style="color:var(--success)"></i> ضمان ذهبي
        </div>
    </header>

    <div class="container">
        <div class="hero reveal">
            <h2>اشتراكاتك المفضلة، بلمسة واحدة.</h2>
            <p>استمتع بأفضل خدمات الترفيه بأقل الأسعار في السوق المصري. تسليم فوري، دعم فني 24/7، وضمان كامل على جميع المنتجات.</p>
        </div>

        <div id="products-container" class="grid">
            <div style="text-align:center; grid-column: 1/-1; padding: 50px;">
                <div class="loader" style="margin: auto;"></div>
            </div>
        </div>

        <div class="orders-widget reveal" style="animation-delay: 0.3s;">
            <h3 style="margin-top:0;"><i class="fas fa-history" style="color:var(--primary)"></i> سجل طلباتك الأخيرة</h3>
            <div id="my-orders-list">
                </div>
        </div>
    </div>

    <div id="buyModal" class="modal">
        <div class="modal-content reveal-scale">
            <span class="close-btn" onclick="closeModal()" style="position:absolute; left:25px; top:20px; cursor:pointer; font-size:1.5rem;">&times;</span>
            <h3 id="modal-product-name" style="margin-top:0; color:var(--primary);">اسم المنتج</h3>
            <p style="color:#888; font-size:0.9rem; margin-bottom:30px;">يرجى ملء البيانات التالية لإتمام عملية الشراء بنجاح.</p>
            
            <form id="order-form" onsubmit="submitOrder(event)">
                <input type="hidden" id="modal-product-id" name="productId">
                
                <div class="form-group">
                    <label class="form-label">رقم الموبايل (واتساب)</label>
                    <input type="text" name="userPhone" class="form-input" placeholder="010xxxxxxx" required>
                </div>

                <div class="form-group">
                    <label class="form-label">إيصال التحويل البنكي أو المحفظة</label>
                    <label class="file-upload-wrapper" for="receipt-file">
                        <div style="text-align:center; color:#666;">
                            <i class="fas fa-cloud-upload-alt" style="font-size:2rem; margin-bottom:10px;"></i><br>
                            <span id="file-label-text">اضغط لرفع صورة التحويل</span>
                        </div>
                        <input type="file" id="receipt-file" name="receipt" accept="image/*" required onchange="updateFileName(this)">
                    </label>
                </div>

                <button type="submit" class="btn">
                    <i class="fas fa-shopping-cart"></i> تأكيد الطلب والدفع
                </button>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        window.onload = loadProducts;
        function updateFileName(input) {
            const label = document.getElementById('file-label-text');
            if(input.files && input.files[0]) {
                label.innerText = "✅ تم اختيار: " + input.files[0].name;
                label.style.color = "#46d369";
            }
        }
    </script>
</body>
</html>
