<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="sidebar">
        <h2>ADMIN</h2>
        <div class="nav-item active" onclick="showSection('orders')"><i class="fas fa-shopping-cart"></i> ุงูุทูุจุงุช ุงููุงุฑุฏุฉ</div>
        <div class="nav-item" onclick="showSection('search')"><i class="fas fa-search"></i> ุชูุงุตูู ุงูุทูุจ</div>
        <div class="nav-item" onclick="showSection('add-product')"><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ ููุชุฌ</div>
        <a href="index.html" class="nav-item" style="text-decoration:none;"><i class="fas fa-eye"></i> ูุนุงููุฉ ุงููุชุฌุฑ</a>
    </div>

    <div class="main-content">
        
        <!-- ูุณู ุงูุทูุจุงุช -->
        <div id="section-orders">
            <div class="panel">
                <h3>๐ฆ ุงูุทูุจุงุช ุงูุฃุฎูุฑุฉ <button class="refresh-btn" onclick="loadAdminOrders()"><i class="fas fa-sync"></i></button></h3>
                <div id="orders-list"></div>
            </div>
        </div>

        <!-- ูุณู ุงูุชูุงุตูู (ุงูุฌุฏูุฏ) -->
        <div id="section-search" style="display:none;">
            <div class="panel">
                <h3>๐ ุงุณุชุนูุงู ุดุงูู ุนู ุทูุจ</h3>
                <div style="display:flex; gap:10px;">
                    <input type="text" id="detail-search-input" class="form-control" placeholder="ุฃุฏุฎู ุฑูู ุงูุทูุจ (Order ID)">
                    <button class="btn" style="width:auto;" onclick="searchOrderDetails()">ุจุญุซ</button>
                </div>
                
                <div id="order-details-result" style="margin-top:20px; display:none;">
                    <div class="card" style="background:#222; border:1px solid #444;">
                        <h3 style="border-bottom:1px solid #444; padding-bottom:10px;">๐ ุชูุฑูุฑ ุงูุทูุจ</h3>
                        <div class="detail-row"><strong>ุฑูู ุงูุทูุจ:</strong> <span id="d-id"></span></div>
                        <div class="detail-row"><strong>ุงูููุชุฌ:</strong> <span id="d-product" style="color:var(--primary)"></span></div>
                        <div class="detail-row"><strong>ุฑูู ุงููุงุชู:</strong> <span id="d-phone"></span></div>
                        <div class="detail-row"><strong>IP ุงููุณุชุฎุฏู:</strong> <span id="d-ip" style="font-family:monospace; background:#333; padding:2px 5px;"></span></div>
                        <div class="detail-row"><strong>ุงูุญุงูุฉ ุงูุญุงููุฉ:</strong> <span id="d-status"></span></div>
                        <hr style="border-color:#444">
                        <div class="detail-row"><strong>ููุช ุฅูุดุงุก ุงูุทูุจ:</strong> <span id="d-time-create"></span></div>
                        <div class="detail-row"><strong>ููุช ุชูุนูู ุงูุฃุฏูู:</strong> <span id="d-time-approve"></span></div>
                        <div class="detail-row"><strong>ููุช ุงุณุชูุงู ุงูููุฏ:</strong> <span id="d-time-code"></span></div>
                        <hr style="border-color:#444">
                        <div class="detail-row"><strong>ุงูููุฏ ุงููุณุชูู:</strong> <span id="d-code" class="big-code" style="font-size:1.5rem; letter-spacing:5px;"></span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ูุณู ุงูุฅุถุงูุฉ -->
        <div id="section-add-product" style="display:none;">
            <div class="panel">
                <h3>โ ุฅุถุงูุฉ ููุชุฌ</h3>
                <div class="input-group"><label>ุงูููุน</label><select id="p-type" class="form-control"><option value="netflix-user">ููุฒุฑ (ููุฏ)</option><option value="netflix-full">ูุงูู</option></select></div>
                <div class="input-group"><label>ุงูุงุณู</label><input type="text" id="p-name" class="form-control"></div>
                <div class="input-group"><label>ุงูุณุนุฑ</label><input type="number" id="p-price" class="form-control"></div>
                <div class="input-group"><label>ุงูุฅูููู</label><input type="email" id="p-email" class="form-control"></div>
                <div class="input-group"><label>ุจุงุณูุฑุฏ</label><input type="text" id="p-pass" class="form-control"></div>
                <button class="btn" onclick="addProduct()">ูุดุฑ</button>
            </div>
        </div>
    </div>

    <style>
        .detail-row { margin-bottom: 10px; font-size: 1.1rem; }
        .detail-row strong { color: #888; display: inline-block; width: 150px; }
    </style>
    <script src="script.js"></script>
    <script>
        function showSection(id) {
            document.getElementById('section-orders').style.display = 'none';
            document.getElementById('section-search').style.display = 'none';
            document.getElementById('section-add-product').style.display = 'none';
            document.getElementById('section-' + id).style.display = 'block';
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            event.currentTarget.classList.add('active');
        }
        window.onload = loadAdminOrders;
    </script>
</body>
</html>
